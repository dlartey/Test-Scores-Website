{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}
	
	<div class="alert alert-warning alert-dismissible fade show" role="alert">
	  {{ message }}
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
	
{% endfor %}
	
<div class="shadow p-3 mb-5 bg-body rounded">
    {% if current_user.is_authenticated %}
  		<h1>Test Results for {{ current_user.firstName}} {{ current_user.lastName}}:</h1>
	{% endif %}
    <br>
    <table class="table table-hover table-dark">
    <thead>
      <tr>
        <th scope="col">Username</th>
        <th scope="col">Module Name</th>
        <th scope="col">Score</th>
        <th scope="col">Date taken</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
{% for data in scores %}
	<tr>
	<th scope="row">{{ current_user.username }}</th>
    <td>{{ data.ms.title }}</td>
    <td>{{ data.score }}</td>
    <td>{{ data.date }}</td>
    <td><a href="/delete_score/{{data.m_id}}"><button type="button" class="btn btn-primary">Delete Score</button></a></td>
	</tr>
{% endfor %}
    </tbody>

</table>
</div>


{% endblock %}